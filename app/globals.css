@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    :root {
        /* Base: Stone */
        --background: 24 9.8% 3.5%;
        --foreground: 60 9.1% 97.8%;

        --card: 24 9.8% 3.5%;
        --card-foreground: 60 9.1% 97.8%;
        --popover: 24 9.8% 3.5%;
        --popover-foreground: 60 9.1% 97.8%;

        /* Primary: Yellow */
        --primary: 44 100% 47%;
        --primary-foreground: 24 9.8% 10%;

        --secondary: 12 6.5% 15.1%;
        --secondary-foreground: 60 9.1% 97.8%;
        --muted: 12 6.5% 15.1%;
        --muted-foreground: 24 5.4% 63.9%;
        --accent: 12 6.5% 15.1%;
        --accent-foreground: 60 9.1% 97.8%;
        --success: 120 60% 30%;
        --success-foreground: 60 9.1% 97.8%;
        --destructive: 0 62.8% 30.6%;
        --destructive-foreground: 60 9.1% 97.8%;
        --border: 12 6.5% 15.1%;
        --input: 12 6.5% 15.1%;
        --ring: 47.9 95.8% 51.8%;

        /* Radius: None */
        --radius: 0rem;

        /* Charts: Yellow variations */
        --chart-1: 47.9 95.8% 51.8%;
        --chart-2: 24 5.4% 63.9%;
        --chart-3: 12 6.5% 15.1%;
        --chart-4: 47.9 95.8% 40%;
        --chart-5: 47.9 95.8% 30%;
    }
}

@layer base {
    * {
        @apply border-border;
        border-radius: 0 !important;
    }
    body {
        @apply bg-background text-foreground;
    }
    *:focus {
        outline: none !important;
    }

    *:focus-visible {
        --tw-ring-offset-width: 0px !important;

        --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0
            var(--tw-ring-offset-width) var(--tw-ring-offset-color);
        --tw-ring-shadow: var(--tw-ring-inset) 0 0 0
            calc(1px + var(--tw-ring-offset-width)) hsl(var(--ring));

        box-shadow:
            var(--tw-ring-offset-shadow), var(--tw-ring-shadow),
            var(--tw-shadow, 0 0 #0000) !important;
    }

    ::selection {
        background-color: hsl(var(--primary)) !important;
        color: hsl(var(--primary-foreground)) !important;
    }
}

@layer utilities {
    .scrollbar-hide::-webkit-scrollbar {
        display: none;
    }
    .scrollbar-hide {
        -ms-overflow-style: none;
        scrollbar-width: none;
    }
}

/* Smooth scrolling */

html {
    scroll-behavior: smooth;
}

/* Disables native focus outline on Dialog content */

[data-slot="dialog-content"] {
    outline: none !important;
    box-shadow: none !important;
}

/* Ciblage direct de l'élément généré par Sonner */
[data-sonner-toast] {
    background-color: hsl(var(--background)) !important;
    border: 1px solid hsl(var(--border)) !important;
    color: hsl(var(--foreground)) !important;
    border-radius: 0px !important; /* Force le radius 0 */
    font-family: inherit !important;
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.5) !important;
}

/* Style spécifique pour les erreurs (Bordure gauche rouge) */
[data-sonner-toast][data-type="error"] {
    border-left: 4px solid hsl(var(--destructive)) !important;
}

/* Style spécifique pour les succès (Bordure gauche jaune VinTrace) */
[data-sonner-toast][data-type="success"] {
    border-left: 4px solid hsl(var(--success)) !important;
}

/* On force la couleur de l'icône à l'intérieur */
[data-sonner-toast] [data-icon] {
    color: inherit !important;
}

/* Supprime le fond blanc/gris au hover si présent */
[data-sonner-toast]:hover {
    background-color: hsl(var(--background)) !important;
}

/* Force le premier trigger à paraître actif au chargement initial */
[data-radix-collection-item]:first-child {
    color: black !important;
}

/* Redonne le contrôle à Radix dès qu'il se réveille */
[data-state="inactive"]:first-child {
    color: rgb(161 161 170) !important; /* la couleur grise habituelle */
}
